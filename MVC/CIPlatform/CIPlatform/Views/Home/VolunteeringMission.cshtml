@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}


@using CIPlatform.Models.ViewModels
@model LandingAllModels


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>


    @*-------Links for checkbox---------*@

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.13/css/bootstrap-multiselect.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.13/js/bootstrap-multiselect.min.js"></script>


    <!-- Font Awesome -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">



    <link rel="stylesheet" href="~/css/platformlandingpage.css">
    <link rel="stylesheet" href="~/css/volLanding.css">


    <title>Volunteering Mission Page</title>

    @*style*@

    <style>
        /* Style the dropdown button */


        .scroll-dropdown {
            width: 10em !important;
            padding: 0.7em !important;
            height: 10em !important;
            overflow-y: scroll !important;
        }

        .filter-list {
            padding: 6px 10px;
            background-color: white;
            border: 1px solid #808080;
            border-radius: 20px;
            color: #000;
            cursor: pointer;
        }

        .filter-close-button {
            background-color: transparent;
            border: none;
            cursor: pointer;
            font-size: 18px;
            margin-left: 5px;
            color: #888;
        }

        .dropbtn {
            background-color: #4CAF50;
            color: white;
            padding: 16px;
            font-size: 16px;
            border: none;
            cursor: pointer;
        }

        /* The container <div> - needed to position the dropdown content */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        /* Dropdown Content (Hidden by Default) */
        .dropdown-content {
            display: none;
            position: absolute;
            z-index: 1;
            background-color: #f1f1f1;
            min-width: 160px;
            overflow: auto;
            max-height: 200px;
            border: 1px solid #ddd;
        }

            /* Checkbox styling */
            .dropdown-content input[type="checkbox"] {
                display: inline-block;
                margin-left: 10px;
            }

        /* Show the dropdown menu on hover */
        .dropdown:hover .dropdown-content {
            display: block;
        }

        /* Change color of dropdown links on hover */
        .dropdown-content a:hover {
            background-color: #ddd;
        }

        /* Add a grey background color to dropdown links on hover */
        .dropdown-content input[type="checkbox"]:hover {
            background-color: #ddd;
        }

        /* Style the selected item */
        .selected {
            background-color: #4CAF50;
            color: white;
        }
    </style>



</head>

<body>


    <header>
        <div class="container-fluid">


            <nav class="navbar navbar-expand-md navbar-light ">

                <button class="navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                        aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mr-auto">

                        <li class="nav-item stories">
                            <a class="nav-link" asp-action="StoryListing" asp-controller="Home">Stories</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle dropdown-policy" href="#" id="navbarDropdown"
                               role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Policy
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="#">Volunteering</a>
                                <a class="dropdown-item" href="#">Sponsered</a>

                        </li>
                        <li>
                            <img src="~/NewFolder/user-img.png" style="align-content:flex-end;" alt="" class="user-avatar">
                        </li>



                    </ul>
                    <div class="nav-item dropdown" style="margin-right:15%; width:auto;">
                        <a class="nav-link" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="color: grey; ">

                            <button class="btn1 dropdown-toggle" style="width:100%; border: none; color: grey" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                @ViewBag.fullname
                            </button>

                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#">Add Profile</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">Volunteering Timesheet</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" asp-controller="Home" asp-action="Logout">Logout</a></li>
                        </ul>
                    </div>

                </div>
            </nav>
            <hr>
            <!-- <div class="line1"></div> -->
            <div class="container-fluid">
                <div class="row row-search">
                    <div class="col-lg-6 col-sm-6">
                        <nav class="navbar navbar-expand-lg navbar-light  search-nav">

                            <div class="search-combine">

                                <img src="~/NewFolder/search.png" alt="" class="search-icon">

                                @using (Html.BeginForm("VolunteeringMission", "Home", FormMethod.Get))

                                {
                                    <form class="form-inline my-2 my-lg-0">

                                        @Html.TextBox("searching","", new {@class = "form-control mr-sm-2 search-bar", @placeholder = "Search mission..."})


                                    </form>
                                }




                                @*<form class="form-inline my-2 my-lg-0">
                                <input class="form-control mr-sm-2 search-bar" type="search"
                                placeholder="Search mission..." aria-label="Search">

                                </form>*@
                            </div>

                        </nav>
                    </div>
                    <div class="col-lg-5 col-sm-6">

                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Country
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div>

                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            City
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div>

                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Theme
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div>

                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Skills
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div>

                    </div>
                    <div class="col-lg-1">
                    </div>




                </div>
            </div>
            <hr class="hr2">

        </div>
    </header>

    <div class="container-fluid">

        <div class="row no-gutters">



            <div class="col-md-6 first-col ">
                <img id="changingimg" class="main-img" src="~/NewFolder/Layer 126.png" style="height: 80%;">





                <div class="container text-center my-3">

                    <div class="row mx-auto my-auto justify-content-center">
                        <div id="recipeCarousel" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-inner" role="listbox">
                                <div class="carousel-item active">
                                    <div class="col-sm-3">
                                        <div class="card" style="width: 75%;">
                                            <div class="card-img">
                                                <button style="background: none; border: none;" id="unique1"
                                                        onclick="function1()">
                                                    <img src="~/NewFolder/vol-carousel-1.png" class="img-fluid">
                                                </button>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <div class="col-sm-3">
                                        <div class="card" style="width: 75%;">
                                            <div class="card-img">
                                                <button style="background: none; border: none;" id="unique2"
                                                        onclick="function2()">
                                                    <img src="~/NewFolder/vol-carrousel-2.png" class="img-fluid">
                                                </button>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <div class="col-sm-3">
                                        <div class="card" style="width: 75%;">
                                            <div class="card-img">
                                                <button style="background: none; border: none;" id="unique3"
                                                        onclick="function3()">
                                                    <img src="~/NewFolder/volcarousel-3.png" class="img-fluid">
                                                </button>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <div class="col-sm-3">
                                        <div class="card" style="width: 75%;">
                                            <div class="card-img">
                                                <button style="background: none; border: none;" id="unique4"
                                                        onclick="function4()">
                                                    <img src="~/NewFolder/vol-carousel-4.png" class="img-fluid">
                                                </button>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </div>
                            <a class="carousel-control-prev bg-transparent w-aut" href="#recipeCarousel" role="button"
                               data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            </a>
                            <a class="carousel-control-next bg-transparent w-aut" href="#recipeCarousel" role="button"
                               data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            </a>
                        </div>
                    </div>

                </div>

            </div>



            <div class="col-md-6 right-div ">
                @foreach (var item in ViewBag.specificmission)

                {
                    <div class="txt">
                        <h1 class="main-txt">@item.Title</h1>
                        <p class="para">@item.ShortDescription</p>
                        <br>
                        <div class="hr-btn">
                            <hr class="hr-line">
                            <button class="btn-trees">Plant 10,000 Trees</button>
                            <!-- <button class="btn-trees">Plant 10,000 Trees</button> -->
                        </div>

                        <div class="row">

                            <div class="col-6 img-and-txt" style="display: flex;">
                                <img class="icons1" src="~/NewFolder/Seats-left.png">
                                <div class="hssh">
                                    <p class="seatno"><b>@item.Availability</b> </p>
                                    <p class="seat">Seats Left</p>
                                </div>
                            </div>

                            <div class="col-6" style="display: flex;">
                                
                                
                                @{
                                   
                                        
                                    
                                    if (ViewBag.progressData.Count != 0)
                                            {
                                                <img src="~/NewFolder/mission.png" alt="" class="mission-img">
                                                <div class="hssh">
                                                    <div class="progress">
                                                        <div class="progress-bar" role="progressbar" style="width: @(TempData["ProgressBarValue"])%;" aria-valuenow="@TempData["ProgressBarValue"]" aria-valuemin="0" aria-valuemax="100"></div>

                                                    </div>

                                                </div>
                                            }
                                            else
                                            {
                                                <img class="mission-img" src="~/NewFolder/deadline.png">
                                                <div class="hssh">

                                                    <p class="seatno">@item.EndDate.ToShortDateString()</p>
                                                    <p class="seat">Deadline</p>
                                                </div>
                                            }
                                    }

                              

                            </div>



                        </div>

                        <hr class="hr-line">
                        <br>
                        <div class="row two-btn-row">

                            <div class="col-sm-6">

                                <button class="fav-btn">

                                    @*<img src="~/NewFolder/heart1.png" alt="">*@



                                    @{

                                        if (@ViewBag.favlist.Count == 0)
                                        {
                                            <i onclick="likeMission(@item.MissionId)" class="far fa-heart"></i>
                                        }

                                        else
                                        {

                                            var v = ViewBag.favlist;

                                            for (var i = 0; i < v.Count; i++)
                                            {

                                                if (@ViewBag.favlist[i].MissionId == item.MissionId && @ViewBag.favlist[i].UserId == ViewBag.ids)
                                                {
                                                    <i onclick="likeMission(@item.MissionId)" style="color:red" class="fas fa-heart"></i>
                                                    break;

                                                }

                                                else

                                                {
                                                    if (i == v.Count - 1)
                                                    {
                                                        <i onclick="likeMission(@item.MissionId)" class="far fa-heart"></i>
                                                    }

                                                }

                                            }

                                        }



                                    }


                                    &nbsp;
                                    Add to favourite

                                </button>

                            </div>

                            <div class="col-sm-6">



                                <div id="dropdownrecmd">
                                    <li class="nav-item dropdown" id="menu2" style="list-style-type: none;">
                                        <button class="nav-link bg-transparent text-dark fav-btn1" id="navbarDropdown"
                                            role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                            <img class="img1" src="~/NewFolder/add1.png">
                                            Recommend to a Co-Worker &nbsp;&nbsp;
                                            <i class="bi bi-chevron-down"></i>

                                        </button>
                                        <ul class="dropdown-menu scroll-dropdown" aria-labelledby="navbarDropdown">

                                            <li>
                                                <ul>
                                                    @foreach (var itm in ViewBag.userslist)
                                                    {
                                                        <li class="form-check">
                                                            <input class="form-check-input checkbox" type="checkbox" value="@itm.Email" id="flexCheckDefault">
                                                            <label class="form-check-label" for="flexCheckDefault">
                                                                @itm.FirstName
                                                            </label>

                                                        </li>
                                                    }
                                                    <br>
                                                    <button id="btn_" onclick="rccall(@item.MissionId)">Submit</button>

                                                </ul>
                                            </li>


                                        </ul>
                                    </li>
                                </div>











                                <!-- Button trigger modal -->
                                @*
                            <span>Recommend to a Co-Worker

                            </span>*@

















                                @*     <button type="button" onClick="recommendto()" asp-action="VolunteeringMission" asp-controller="Home" class="fav-btn" data-bs-toggle="modal" data-bs-target="#exampleModal">
                            <img src="~/NewFolder/add1.png" alt="">
                            &nbsp;
                            Recommend to a Co-Worker
                            </button>*@

                                @*                          <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                            <div class="modal-content">

                            </div>
                            </div>
                            </div>*@




                            </div>
                            <br>
                            <!-- <hr class="hr-line-star"> -->
                            <div class="row ">



                                @*<div class="star" style="display: flex;">

                            <img src="~/NewFolder/star-empty.png" alt="">
                            <img src="~/NewFolder/star-empty.png" alt="">
                            <img src="~/NewFolder/star-empty.png" alt="">
                            <img src="~/NewFolder/star-empty.png" alt="">
                            <img src="~/NewFolder/star-empty.png" alt="">

                            </div>*@

                                <div id="rating" class="col-6 d-flex" style="margin-left:41%;">
                                    @{
                                        @if (ViewBag.missionapplication.Count == 0)
                                        {
                                            <div class="d-flex">
                                                <img class="ratingclass" src="~/NewFolder/star-empty.png">
                                                <img class="ratingclass" src="~/NewFolder/star-empty.png">
                                                <img class="ratingclass" src="~/NewFolder/star-empty.png">
                                                <img class="ratingclass" src="~/NewFolder/star-empty.png">
                                                <img class="ratingclass" src="~/NewFolder/star-empty.png">
                                            </div>
                                        }

                                        else
                                        {


                                            if (@ViewBag.Ratingdata.Count == 0)
                                            {
                                                <div id="rating">
                                                    <i class="rating__star far fa-star star" data-value="1" data-missionid="@item.MissionId"></i>
                                                    <i class="rating__star far fa-star star" data-value="2" data-missionid="@item.MissionId"></i>
                                                    <i class="rating__star far fa-star star" data-value="3" data-missionid="@item.MissionId"></i>
                                                    <i class="rating__star far fa-star star" data-value="4" data-missionid="@item.MissionId"></i>
                                                    <i class="rating__star far fa-star star" data-value="5" data-missionid="@item.MissionId"></i>
                                                </div>
                                            }
                                            else
                                            {
                                                int i = 0;
                                                for (i = 0; i < @ViewBag.Ratingdata.Count; i++)
                                                {
                                                    //<h1> @ViewBag.Ratingdata[i].MissionId</h1>
                                                    if (@ViewBag.Ratingdata[i].MissionId == @item.MissionId)
                                                    {
                                                        int b = Convert.ToInt32(ViewBag.Ratingdata[i].Rating);
                                                        for (int j = 1; j <= 5; j++)
                                                        {
                                                            if (j <= b)
                                                            {
                                                                <div id="rating">
                                                                    <i class="rating__star fas fa-star star" data-value="@j" data-missionid="@item.MissionId"></i>
                                                                </div>
                                                            }
                                                            else
                                                            {
                                                                <div id="rating">
                                                                    <i class="rating__star far fa-star star" data-value="@j" data-missionid="@item.MissionId"></i>
                                                                </div>
                                                            }
                                                        }
                                                    }
                                                }


                                            }
                                        }
                                    }

                                </div>





                                <!-- <hr class="hr-line-star2"> -->
                            </div>
                            <br>
                            <div class="row">

                                <div class="col-lg-3 col-xs-6 col-md-6">

                                    <div class="box1">

                                        <div class="all-content">
                                            <img src="~/NewFolder/pin1.png" class="pin-img" alt="">
                                            <p class="city">City</p>
                                            <p class="london">@item.City.Name</p>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-lg-3 col-xs-6 col-md-6">
                                    <div class="box2">
                                        <div class="all-content">
                                            <img src="~/NewFolder/web.png" class="pin-img" alt="">
                                            <p class="city">Theme</p>
                                            <p class="london">@item.Theme.Title</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-xs-6 col-md-6">
                                    <div class="box3">
                                        <div class="all-content">
                                            <img src="~/NewFolder/calender.png" class="pin-img" alt="">
                                            <p class="city">Date</p>
                                            <p class="london">@item.StartDate.ToShortDateString()</p>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-lg-3 col-xs-6 col-md-6">
                                    <div class="box4">
                                        <div class="all-content">
                                            <img src="~/NewFolder/add1.png" class="pin-img" alt="">
                                            <p class="city">Organization</p>
                                            <p class="london">@item.OrganizationName</p>
                                        </div>
                                    </div>
                                </div>


                            </div>
                            <br><br><br>
                            <div class="row">
                                @*<div class="col apply-row">
                            <button class="apply-btn">
                            Apply Now

                            <img src="~/NewFolder/right-arrow.png" alt="" class="right-arrow">

                            </button>
                            </div>*@

                                @{
                                    if (ViewBag.missionapplication.Count == 0)
                                    {
                                        var a = item.EndDate;
                                        var res = DateTime.Compare(ViewBag.currentDate, item.EndDate);
                                        if (res == 1)
                                        {
                                            <a style="text-decoration: none ; color:#414141" asp-action="VolunteeringMission" asp-controller="Home" asp-route-id="@item.MissionId">
                                                <button disabled type="submit" class="apply-btn" style="border-color : grey ; color : grey">

                                                    No longer available
                                                </button>
                                            </a>
                                        }
                                        else
                                        {
                                            <button type="submit" class="btn btn-outline-secondary apply-btn" onclick="applyformission(@item.MissionId)">

                                                Apply Now <img src="~/NewFolder/right-arrow.png">


                                            </button>
                                        }
                                    }
                                    else
                                    {
                                        <button disabled type="submit" class="btn btn-outline-secondary apply-btn" style="border: 2px solid grey">

                                            Already Applied

                                        </button>
                                    }
                                }



                            </div>


                        </div>

                    </div>

                }


            </div>
            <br>
            <div class="row">

                <div class="col-md-8">
                    @foreach (var item in ViewBag.specificmission)
                    {

                        <ul class="nav nav-tabs">
                            <li class="active"><a data-toggle="tab" href="#mission" class="active links1">Mission</a></li>
                            <li><a data-toggle="tab" href="#org" class="links2">Organization</a></li>
                            <li><a data-toggle="tab" href="#comm" class="links3">Comments</a></li>

                        </ul>

                        <div class="tab-content">
                            <div id="mission" class="tab-pane fade show active">
                                <h3>Introduction</h3>
                                <p class="para-lorem">@item.Description</p>


                                <h3>Challenge</h3>

                                <p class="para-lorem">
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
                                    tempor incididunt ut
                                    labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                                    laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in
                                    voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat
                                    cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                </p>
                                <p class="para-lorem">
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
                                    tempor incididunt ut
                                    labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                                    laboris nisi ut aliquip ex ea commodo consequat.Duis aute irure dolor in reprehenderit in
                                    voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat
                                    cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                    <br>
                                </p>

                                <h3>Documents</h3>


                                <div class="row">

                                    <div class="col-lg-4 col-md-6 col-sm-6">
                                        <button class="doc-btn">

                                            @*<img src="~/NewFolder/pdf.png" alt=""> <a href="@item.DocumentPath" target="_blank">@item.DocumentName</a>*@


                                        </button>

                                    </div>

                                    <div class="col-lg-4 col-md-6 col-sm-6">

                                        <button class="doc-btn">

                                            <img src="~/NewFolder/doc.png"> @*<a href="@item.DocumentPath" target="_blank">@item.DocumentName</a>*@
                                        </button>

                                    </div>

                                    <div class="col-lg-4 col-md-6 col-sm-6">
                                        <button class="doc-btn">

                                            <img src="~/NewFolder/xlsx.png" alt="">&nbsp;
                                            important_doc.xls

                                        </button>

                                    </div>

                                </div>






                            </div>


                            <div id="org" class="tab-pane fade">
                                <h3>Organization Details</h3>

                                <p class="para-lorem">@item.OrganizationDetail</p>




                            </div>


                            <div id="comm" class="tab-pane fade">
                                <br>
                                <textarea class="col-12" id="textAreas"></textarea>
                                <br>
                                <br>
                                <button onclick="commentadd(@item.MissionId)" id="submitButton">Submit</button>


                                <br>
                                <br>
                                <div class="col-12 strylistmaindiv">



                                    @{
                                        foreach (var itemss in ViewBag.comnt)
                                        {
                                            <div class="d-flex strylistsubdv">
                                                <div>
                                                    <img class="stryposterimg" src="/NewFolder/user-img.png">
                                                </div>

                                                <br>
                                                <div>


                                                    <span class="strypstrname">@itemss.u.FirstName</span>
                                                    <br>

                                                    <h5 class="timestmp">@itemss.c.CreatedAt</h5>

                                                    <h5 class="cmnt" id="processedData">@itemss.c.CommentText</h5>
                                                </div>
                                            </div>
                                        }
                                    }
                                </div>
                            </div>






                        </div>
                    }
                </div>
                <div class="col-md-4">
                    @foreach (var item in ViewBag.specificmission)
                    {
                        <div class="row right-down">
                            <div class="col">
                                <div class="info">
                                    <h3>Information</h3>
                                    <hr>
                                    <div class="row">
                                        <div class="col-3">
                                            <p class="para-skills">Skills</p>

                                        </div>
                                        <div class="col-9">
                                            @*<p class="all-skills">Cool, Easy going, Math, Computer</p>*@
                                            @foreach (var skills in ViewBag.skilldata)
                                            {
                                                @skills.s.SkillName
                                            }
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-3">
                                            <p class="para-skills">Days</p>

                                        </div>
                                        <div class="col-9">
                                            <p class="all-skills">Weekend only</p>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-3">
                                            <p class="para-skills">Rating</p>

                                        </div>
                                        <div class="col-9">

                                            @*<div class="rating" style="margin-left: -4%;">
                                        <span class="rating__result"></span>
                                        <i class="rating__star far fa-star"></i>
                                        <i class="rating__star far fa-star"></i>
                                        <i class="rating__star far fa-star"></i>
                                        <i class="rating__star far fa-star"></i>
                                        <i class="rating__star far fa-star"></i>
                                        </div>*@











                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <div class="row right-down">
                            <div class="col" style="width: 100%; padding: 5%;">











































                                <div class="info">
                                    <h3>Recent Volunteers</h3>
                                    <hr>

                                    <div class="row" style="text-align: center;">
                                        @foreach (var user in ViewBag.finalresult)
                                        {
                                            <div class="col-4">

                                                <img src="~/NewFolder/volunteer1.png" alt="" class="vol-img">
                                                <p class="vol-name">@user.FirstName</p>

                                            </div>

                                            <br />

                                        }
                                    </div>

                                </div>



                            </div>
                        </div>

                    }

                </div>




                @*-----------------------------------------Related Missions-------------------------------------------*@

                <br>
                <hr style="color: grey;">
                <h1 style="text-align: center;">Related Missions</h1>
                <br>
                <div class="row">





                    <div class="col-lg-12">
                        <div class="grid-view" id="grdp">




                            <div class="container grid-container ">
                                <div class="row">

                                    @foreach (var itemsname in ViewBag.Result2)
                                    {

                                        <div class="col-12 col-md-6 col-lg-4" style="margin-top: 5%;">
                                            <div class="card">
                                                <img src="~/NewFolder/related-1.png" class="card-img-top" alt="...">
                                                <button class="missions">@itemsname.Title</button>
                                                <div class="card-body">

                                                    <h4 class="card-title">@itemsname.m.Title</h4>

                                                    @{






                                                        if (@ViewBag.favlist.Count == 0)
                                                        {
                                                            <i onclick="likeMission(@itemsname.m.MissionId)" class="far fa-heart"></i>

                                                        }

                                                        else
                                                        {



                                                            var v = ViewBag.favlist;

                                                            for (var i = 0; i < v.Count; i++)
                                                            {


                                                                if (@ViewBag.favlist[i].MissionId == itemsname.m.MissionId && @ViewBag.favlist[i].UserId == ViewBag.ids)
                                                                {
                                                                    <i onclick="likeMission(@itemsname.m.MissionId)" style="color:red" class="fas fa-heart"></i>
                                                                    break;

                                                                }
                                                                else

                                                                {


                                                                    if (i == v.Count - 1)
                                                                    {
                                                                        <i onclick="likeMission(@itemsname.m.MissionId)" class="far fa-heart"></i>

                                                                    }

                                                                }

                                                            }

                                                        }



                                                    }









                                                    <p class="card-text">@itemsname.m.ShortDescription</p>

                                                    <div class="row">

                                                        <div class="col-6">
                                                            <span class="card-text">@itemsname.m.OrganizationName</span>

                                                        </div>

                                                        <div class="col-6" style="margin-left: -12%;">

                                                            <div class="rating">
                                                                <span class="rating__result"></span>
                                                                <i class="rating__star far fa-star"></i>
                                                                <i class="rating__star far fa-star"></i>
                                                                <i class="rating__star far fa-star"></i>
                                                                <i class="rating__star far fa-star"></i>
                                                                <i class="rating__star far fa-star"></i>
                                                            </div>


                                                        </div>

                                                    </div>


                                                    <br><br>


                                                    <div class="row">

                                                        <div class="col-12">

                                                            <div class="card-line">
                                                                <button class="btn-date">@itemsname.m.StartDate.ToShortDateString() until @itemsname.m.EndDate.ToShortDateString()</button>
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <br>
                                                    <div class="row">

                                                        <div class="col-6 already-vol-main" style="display: flex;">

                                                            <img src="~/NewFolder/Already-volunteered.png" alt=""
                                                             style="height: 30%; width: 30%;">
                                                            <div class="already-vol">
                                                                <p>@itemsname.m.Availability</p>
                                                                <p>Already volunteered</p>
                                                            </div>


                                                        </div>

                                                        <div class="col-6 already-vol-main" style="display: flex;">
                                                            <img src="~/NewFolder/mission.png" alt="" class="mission-img"
                                                             style="height: 30%; width: 30%;">
                                                            <div class="hssh">
                                                                <div class="progress" style="width: 100%;">
                                                                    <div class="progress-bar w-75" role="progressbar"
                                                                     aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                                                                    </div>
                                                                </div>
                                                                <p class="achieved">8000 achieved</p>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <hr class="line-hr">
                                                    <br>
                                                    <div class="row">
                                                        <div class="col-12" style="text-align: center;">
                                                            <button class="apply-btn" style="margin-left: 0%;">
                                                                Apply

                                                                <img src="~/NewFolder/right-arrow.png" alt="" class="right-arrow">

                                                            </button>
                                                        </div>
                                                    </div>





                                                </div>

                                            </div>
                                        </div>




                                    }
                                </div>
                            </div>

                        </div>




                    </div>


                </div>

            </div>

        </div>





    </div>
    <br>
    <script>
        let items = document.querySelectorAll('.carousel .carousel-item')

        items.forEach((el) => {
            const minPerSlide = 4
            let next = el.nextElementSibling
            for (var i = 1; i < minPerSlide; i++) {
                if (!next) {
                    // wrap carousel by using first child
                    next = items[0]
                }
                let cloneChild = next.cloneNode(true)
                el.appendChild(cloneChild.children[0])
                next = next.nextElementSibling
            }
        })
    </script>


    <script>

        const ratingStars = [...document.getElementsByClassName("rating__star")];
        const ratingResult = document.querySelector(".rating__result");

        printRatingResult(ratingResult);

        function executeRating(stars, result) {
            const starClassActive = "rating__star fas fa-star";
            const starClassUnactive = "rating__star far fa-star";
            const starsLength = stars.length;
            let i;
            stars.map((star) => {
                star.onclick = () => {
                    i = stars.indexOf(star);

                    if (star.className.indexOf(starClassUnactive) !== -1) {
                        // printRatingResult(result, i + 1);
                        for (i; i >= 0; --i) stars[i].className = starClassActive;
                    } else {
                        // printRatingResult(result, i);
                        for (i; i < starsLength; ++i) stars[i].className = starClassUnactive;
                    }
                };
            });
        }

        function printRatingResult(result, num = 0) {
            // result.textContent = `${num}/5`;
        }

        executeRating(ratingStars, ratingResult);
    </script>

    <script>

        var photo = document.getElementById("changingimg");
        function function1() {

            photo.src = "~/NewFolder/vol-carousel-1.png";

        }


        function function2() {

            photo.src = "~/VolunteeringMission/NewFolder/re-vol-2.png";

        }

        function function3() {

            photo.src = "~/wwwroot/NewFolder/re-vol-3.png";

        }


        function function4() {

            photo.src = "~/NewFolder/re-vol-4.png";

        }

    </script>

    <script src="~/js/landing.js"></script>

    <script>
        $(function () {
            //var rating = $("#rating");
            var rating = $(this).parent().find(".star");
            $("#rating .star").click(function () {
                //debugger
                var star = $(this);
                var stars = star.data("value");
                var missionId = star.data("missionid");

                $.ajax({
                    type: "POST",
                    url: "/Home/Rate",
                    data: { stars: stars, missionId: missionId },
                    success: function () {
                        console.log("success");
                        //debugger
                        //rating.removeClass("far").addClass("fas");
                        //star.prevAll(".star").removeClass("far").addClass("fas");
                        star.removeClass("far").addClass("fas");
                        location.reload();
                    }
                });
            });
        });
    </script>

</body>

</html>