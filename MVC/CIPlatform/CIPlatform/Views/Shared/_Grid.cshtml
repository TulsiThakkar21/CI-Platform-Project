@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
 
            <div class="row">
                 @foreach(var item in ViewBag.outputsf)
               {


                <div class="col-12 col-md-6 col-lg-4">
                    <div class="card">
                        <div>
                                <img src="~/NewFolder/imgenv.png" class="card-img-top" alt="...">

                        </div>
                            <button class="missions">@item.Theme.Title</button>
                            @{

                                if (@ViewBag.favlist.Count == 0)
                                {
                                    <i onclick="likeMission(@item.MissionId)" class="far fa-heart"></i>
                                }

                                else
                                {

                                    var v = ViewBag.favlist;

                                    for (var i = 0; i < v.Count; i++)
                                    {

                                        if (@ViewBag.favlist[i].MissionId == item.MissionId && @ViewBag.favlist[i].UserId == ViewBag.ids)
                                        {
                                            <i onclick="likeMission(@item.MissionId)" style="color:red" class="fas fa-heart"></i>
                                            break;

                                        }

                                        else

                                        {
                                            if (i == v.Count - 1)
                                            {
                                                <i onclick="likeMission(@item.MissionId)" class="far fa-heart"></i>
                                            }

                                        }

                                    }

                                }



                            }


                          
                        <div class="card-body">
                            
                           
                            <h4 class="card-title">@item.Title</h4>
                            <p class="card-text">@item.ShortDescription</p>
                             <div class="combine" style="display: flex;">
                                    <div class="row">
                                       
                                            <div class="col-6 d-flex">
                                                <span class="card-text">@item.OrganizationName</span>

                                           </div>
                                        

                                            <div id="rating" class="col-6 d-flex">
                                            @{
                                                if (@ViewBag.Ratingdata.Count == 0)
                                                {
                                                        
                                                   
                                                    
                                                    
                                                        <i  class="rating__star far fa-star star" data-value="1" data-missionid="@item.MissionId"></i>
                                                        <i  class="rating__star far fa-star star" data-value="2" data-missionid="@item.MissionId"></i>
                                                        <i  class="rating__star far fa-star star" data-value="3" data-missionid="@item.MissionId"></i>
                                                        <i class="rating__star far fa-star star" data-value="4" data-missionid="@item.MissionId"></i>
                                                        <i  class="rating__star far fa-star star" data-value="5" data-missionid="@item.MissionId"></i>
                                                  
                                                  


                                                }






                                                else 
                                                {
                                                    int i = 0;

                                                    for (i = 0; i < @ViewBag.Ratingdata.Count; i++)
                                                    {
                                                    
                                                        if (@ViewBag.Ratingdata[i].MissionId == @item.MissionId)
                                                        {
                                                            int b = Convert.ToInt32(ViewBag.Ratingdata[i].Rating);



                                                            for (int j = 1; j <=5; j++)
                                                            {

                                                                if (j <= b)
                                                                {

                                                                  
                                                                        <i class="rating__star fas fa-star star" data-value="@j" data-missionid="@item.MissionId"></i>
                                                                
                                                                }
                                                                else
                                                                {
                                                                 
                                                                    <i class="rating__star far fa-star star" data-value="@j" data-missionid="@item.MissionId"></i>
                                                               
                                                                }

                                                            }
                                                            

                                                        }




                                                    }





                                                   




                                                }

                                               
                                            }

</div>

 




                                    
                                            </div>




                                            </div>

                                        </div>
                                
                           <br>


                             <div class="row">

                                            <div class="col-12">

                                                <div class="card-line">
                                            <button class="btn-date">From  @item.StartDate.ToShortDateString() until @item.EndDate.ToShortDateString()</button>
                                                </div>
                                            </div>

                                        </div>


                            <div class="iconandtext" style="display:flex">

                                <img class="icons1" src="~/NewFolder/Seats-left.png">

                                <div class="hssh">
                                        <p class="seatno">@item.Availability</p>
                                    <p class="seat">Seats Left</p>
                                </div>
                                <img class="icons" src="~/NewFolder/deadline.png">
                                <div class="hssh">

                                        <p class="seatno">@item.EndDate.ToShortDateString()</p>
                                    <p class="seat">Deadline</p>
                                </div>
                            </div>

                          

                            <a style="text-decoration: none ; color:#414141" asp-action="VolunteeringMission" asp-controller="Home" asp-route-id="@item.MissionId">
                                <button type="submit" class="apply-btn">

                                Apply <img src="~/NewFolder/right-arrow.png">
                                </button>
                            </a>
                        </div>

                    </div>
          
                
    }
        
                    </div>
                     </div>


                    </div>

                </div>
            </div>
        
                   
        <br />      